<?xml version="1.0" encoding="UTF-8"?>
<schema 
xmlns="http://www.w3.org/2001/XMLSchema" 
targetNamespace="http://niem.gov/niem/external/ogc-observation/draft-0.14.5/om/dhs-gmo/1.0.0" 
xmlns:om="http://niem.gov/niem/external/ogc-observation/draft-0.14.5/om/dhs-gmo/1.0.0" 
xmlns:swe="http://niem.gov/niem/external/ogc-observation/draft-0.14.5/swe/dhs-gmo/1.0.0" 
xmlns:gmd="http://niem.gov/niem/external/iso-19139-gmd/draft-0.1/gmd/dhs-gmo/1.0.0" 
xmlns:gml="http://niem.gov/niem/external/ogc-gml/3.1.1/dhs-gmo/1.0.0"
xmlns:xlink="http://niem.gov/niem/external/w3c-xlink/1.0/dhs-gmo/1.0.0"
elementFormDefault="qualified" attributeFormDefault="unqualified" version="pre-release">
	<annotation>
		<documentation>observation.xsd
An implementation of the OandM model for SWE
Copyright (c) 2006 Open Geospatial Consortium - see http://www.opengeospatial.org/about/?page=ipr
OGC 05-087r4  pagd 47 © OGC 2006 – All rights reserved 

		DHS Changes 
     		2006-09-28 Changed namespaces and schema location
				ns old	http://niem.gov/niem/external/gml/3.1.1/dhs-gmo/1.0.0
				ns new	http://niem.gov/niem/external/ogc-gml/3.1.1/dhs-gmo/1.0.0	
				from		../../../../../gml/3.1.1/dhs-gmo/1.0.0/gml.xsd
				to			../../../../../ogc-gml/3.1.1/dhs-gmo/1.0.0/gml.xsd

				ns old	http://niem.gov/niem/external/xlink/1.0.0/dhs-gmo/1.0.0
				ns new	http://niem.gov/niem/external/w3c-xlink/1.0/dhs-gmo/1.0.0		

		    2006-09-22 Changed namespaces following NIEM conventions
			 1) targetNamespace http://niem.gov/niem/external/ogc-observation/draft-0.14.5/om/dhs-gmo/1.0.0
			 2) om namespace		http://niem.gov/niem/external/ogc-observation/draft-0.14.5/om/dhs-gmo/1.0.0
			 3) swe namespace	http://niem.gov/niem/external/ogc-observation/draft-0.14.5/swe/dhs-gmo/1.0.0
			 4) gnd namespace	http://niem.gov/niem/external/iso-19139-gmd/draft-0.1/gmd/dhs-gmo/1.0.0
			 5) gml namespace	http://niem.gov/niem/external/gml/3.1.1/dhs-gmo/1.0.0
			 6) xlink namespace	http://niem.gov/niem/external/xlink/1.0.0/dhs-gmo/1.0.0
  
			2006-09-18 versioned namespace to match OGC 05-087r4 source, which specifies Version: 0.14.5
			  versioned swe, gmd, xlink, gml namespaces, changed schemaLocations

</documentation>
	</annotation>
	<!-- ====================================================================== -->
	<!-- bring in other schemas -->
	<!-- <import namespace="http://www.opengis.net/gml" schemaLocation="http://schemas.opengis.net/gml/3.1.1/base/gml.xsd"/> -->
 	 <import namespace="http://niem.gov/niem/external/ogc-gml/3.1.1/dhs-gmo/1.0.0" 
			   schemaLocation="../../../../../ogc-gml/3.1.1/dhs-gmo/1.0.0/gml.xsd"/>
	
	<!-- <import namespace="http://www.isotc211.org/2005/gmd" schemaLocation="../../../../gml/trunk/iso19139/gml3.1.1version/gmd/gmd.xsd"/> -->
	<import namespace="http://niem.gov/niem/external/iso-19139-gmd/draft-0.1/gmd/dhs-gmo/1.0.0" 
	schemaLocation="../../../../../iso-19139-gmd/draft-0.1/gmd/dhs-gmo/1.0.0/gmd.xsd"/>

	<!-- <import namespace="http://www.opengis.net/swe" schemaLocation="../../sweCommon/current/swe.xsd"/> -->
	<import namespace="http://niem.gov/niem/external/ogc-observation/draft-0.14.5/swe/dhs-gmo/1.0.0" 
	schemaLocation="../../../swe/dhs-gmo/1.0.0/swe.xsd"/>

	<include schemaLocation="./procedure.xsd"/>
	<!-- ====================================================================== -->
	<!-- ====================================================================== -->
	<!-- ===== Object types for Observations ====== -->
	<!-- ====================================================================== -->
	<complexType name="AbstractObservationType">
		<annotation>
			<documentation>Base type for Observations.
Because of the well-known inconsistency in the implementation of XML Schema "restriction"
derivation,
this type is provided as a parent for all concrete observation types.
Concrete Observation types must extend this with a "result" of the appropriate type.
The following properties are inherited from EventType:
<!-- from AbstractGMLType
<element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>
<element ref="gml:description" minOccurs="0"/>
<element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> -->
				<!-- from AbstractFeatureType
<element ref="gml:boundedBy" minOccurs="0"/> -->
				<!-- from EventType
<element name="eventParameter" type="swe:TypedValuePropertyType" minOccurs="0"
maxOccurs="unbounded"/>
<element name="time" type="om:TimeObjectPropertyType" nillable="true"/>
<element name="precedingEvent" type="gml:StringOrRefType" minOccurs="0"
maxOccurs="unbounded"/>
<element name="followingEvent" type="gml:StringOrRefType" minOccurs="0"
maxOccurs="unbounded"/> -->
In the context of an Observation, the interpretation of some of the properties shall be refined as
follows:
time - the date/Time at which the procedure was executed
location - the location of the procedure (sensor, intrument, computational engine) at the time of the
observation event
For "in situ" procedures the value of the location will usually be the same as the location of the
featureOfInterest.
For "remote" procedures the location will normally be removed from the location of the
featureOfInterest</documentation>
		</annotation>
		<complexContent>
			<extension base="om:EventType">
				<sequence>
					<element name="responsible" type="gmd:CI_ResponsibleParty_PropertyType" minOccurs="0">
						<annotation>
							<documentation>Person or organisation responsible for the event, if applicable.
The nature of the responsibility (i.e. the role of the party with respect to the event) may be
indicated using the xlink:arcrole attribute.
Examples of roles are operator, sponsor, requestor, provider, processor,
etc.</documentation>
						</annotation>
					</element>
					<element name="quality" type="gmd:DQ_Element_PropertyType" minOccurs="0" maxOccurs="unbounded">
						<annotation>
							<documentation>Instance-specific quality assessment or measure.
Allow multiple quality measures if required.</documentation>
						</annotation>
					</element>
					<element name="procedure" type="om:ProcedurePropertyType">
						<annotation>
							<documentation>Link to a description of the procedure or process used to
determine the result.
This may be
- a generic procedure or procedure type in which case all event-specific parameters are
associated with the observation event, or
- a procedure instance with event specific parameters bound to the
procedure.</documentation>
						</annotation>
					</element>
					<element name="observedProperty" type="swe:PhenomenonPropertyType">
						<annotation>
							<documentation>Link to a description of the property or phenomenon whose value
is being described or estimated through observation
for example "wavelength", "grass-species", "power", "intensity in the waveband xy",
etc.
It is this feature-property that provides the (semantic) type of the observation.
Note that the description of the phenomenon may be quite specific and
constrained.
In general the precise details of the constraints describing the observe properties
require attention to the procedure used in making the observation:
e.g. an optical sensor typically has a wavelength-dependent response.
This property may be provided for client convenience, to allow comparison
between and aggregation of observations of the same property made using different procedures.</documentation>
						</annotation>
					</element>
					<element name="featureOfInterest" type="gml:FeaturePropertyType">
						<annotation>
							<documentation>the Feature regarding which the observations are being made,
sometimes called the target or subject of the observation, such as a specimen,
station, tract, mountain, pixel, etc.
The spatial properties (location) of this feature of interest are typically of most
interest for spatial analysis of the observation result.</documentation>
						</annotation>
					</element>
					<!--
<element name="result" type="anyType">
<annotation>
<documentation>This is a placeholder - concrete types must replace (restrict) this
with a "result" property of the correct type. </documentation>
</annotation>
</element>
-->
				</sequence>
			</extension>
		</complexContent>
	</complexType>
	<!-- ......................... -->
	<element name="AbstractObservation" type="om:AbstractObservationType" abstract="true" substitutionGroup="om:Event">
		<annotation>
			<documentation>Head of Observation substitution group</documentation>
		</annotation>
	</element>
	<!-- ...................... -->
	<complexType name="AbstractObservationPropertyType">
		<sequence minOccurs="0">
			<element ref="om:AbstractObservation"/>
		</sequence>
		<attributeGroup ref="gml:AssociationAttributeGroup"/>
	</complexType>
	<!-- ====================================================================== -->
	<complexType name="ObservationType">
		<annotation>
			<documentation>Generic Observation event.
carries a generic "result" properties of type "anyType".
Because of the well-known inconsistency in the implementation of XML Schema "restriction" derivation,
in the XML Schema implementation the generic Observation is a sibling, rather than a parent, to the
specialized observations.</documentation>
		</annotation>
		<complexContent>
			<extension base="om:AbstractObservationType">
				<sequence>
					<element name="resultDefinition" type="swe:RecordTypePropertyType" minOccurs="0"/>
					<element name="result" type="anyType" nillable="true">
						<annotation>
							<documentation>an xsi:type attribute may appear in the instance to indicate the
type of the result</documentation>
						</annotation>
					</element>
				</sequence>
			</extension>
		</complexContent>
	</complexType>
	<!-- ...................... -->
	<element name="Observation" type="om:ObservationType" substitutionGroup="om:AbstractObservation">
		<annotation>
			<documentation>Generic Observation event</documentation>
		</annotation>
	</element>
	<!-- ====================================================================== -->
	<!-- ===== Observation Collection ======= -->
	<!-- ====================================================================== -->
	<complexType name="ObservationCollectionType">
		<complexContent>
			<extension base="om:EventType">
				<sequence>
					<element name="member" type="om:AbstractObservationPropertyType" maxOccurs="unbounded"/>
				</sequence>
			</extension>
		</complexContent>
	</complexType>
	<!-- ...................... -->
	<element name="ObservationCollection" type="om:ObservationCollectionType" substitutionGroup="om:Event">
		<annotation>
			<documentation>Observation collection, using the "Composite" pattern</documentation>
		</annotation>
	</element>
	<!-- ====================================================================== -->
	<!-- =================================================================== -->
	<complexType name="ExternalReferenceType">
		<complexContent>
			<extension base="gml:ReferenceType">
				<attribute name="mimeType" type="anyURI" use="required"/>
			</extension>
		</complexContent>
	</complexType>
	<!-- ====================================================================== -->
</schema>
